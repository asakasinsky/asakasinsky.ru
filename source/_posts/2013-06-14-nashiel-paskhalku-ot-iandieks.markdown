---
layout: post
title: "Нашел «пасхалку» от Яндекс"
date: 2013-06-14 01:01
comments: true
categories:
---

В связи с выходом iOS7 понадобилось мне понаблюдать за результатами выдачи поисковиков по запросу «ios7 css3». Люблю я понаблюдать за полётом мыслей у верстальщиков. Из них можно узнать весьма много интересного и полезного.
<!--more-->
В течении двух дней наблюдал вручную, пришёл к выводу, что дело это весьма рутинное, так как картина выдачи в течении этого времени практически не менялась. Процентов 70 выдачи занято [вот этим концептом](http://recombu.com/mobile/interactive/iphone-5s-ios7-concept/) , построенном на чистом css, html и js. Интересного пока мало. Например, в сообществе jQuery-mobile уже задумались над соответствующей кастомизацией внешнего вида, а на StackOverflow появился вопрос  о том, как можно сделать блюр, как в iOS7.

Вернёмся к рутине. На мой взгляд ничто лучше python для помощи в рутинной работе нет. И, для тренировочки, чтобы вспомнить как разбирать html, я замутил небольшой скриптик, берущий погоду с Яндекса. Очень сильно удивился, когда получил ошибку связанную с кодировкой и полез смотреть в заголовки, передаваемые сервером Яндекса чтобы узреть эту самую кодировку. А как в Python это сделать? Правильно, вывести на печать содержимое "content-type
" ответа, полученного с помощью urllib2.  И тут я тоже удивился, так как в содержимом явного указания кодировки не было. Чёрт! Пришлось распечатать весь список, содержащий заголовки.

```
import urllib2
page = urllib2.urlopen('http://pogoda.yandex.ru/moscow/')
print list(page.headers)
```

Получил

```
['transfer-encoding', 'set-cookie', 'expires', 'server', 'connection', 'date', 'x-konkurentam', 'content-type']
```
Видно пасхалку? Нет? Давайте распечатаем заголовок 'x-konkurentam'.

```
print page.headers['x-konkurentam']
```
Получаем:

```
Preved
```

Это напомнило мне байку про приглашение на работу в заголовках telnet или smtp сервера Яндекс.
